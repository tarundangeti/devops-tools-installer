# ğŸ“˜ Kubernetes kubectl Command Reference Guide

A structured and professional reference guide for commonly used `kubectl` commands.  
Useful for DevOps Engineers, Kubernetes Administrators, and learners.

---

## ğŸ“Œ Table of Contents

- [Cluster Information](#-cluster-information)
- [Pod Management](#-pod-management)
- [Node Management](#-node-management)
- [Deployment Management](#-deployment-management)
- [ReplicaSet Management](#-replicaset-management)
- [Service Management](#-service-management)
- [Rollout Management](#-rollout-management)
- [Jobs & CronJobs](#-jobs--cronjobs)
- [Namespace Management](#-namespace-management)
- [ConfigMaps & Secrets](#-configmaps--secrets)
- [RBAC (Role Based Access Control)](#-rbac-role-based-access-control)
- [Scaling](#-scaling)
- [API & Resource Discovery](#-api--resource-discovery)
- [Useful Flags](#-useful-flags)
- [Troubleshooting Commands](#-troubleshooting-commands)

---

# ğŸ”¹ Cluster Information

```bash
kubectl cluster-info
```
Display cluster master and service endpoints.

```bash
kubectl version
```
Show client and server Kubernetes versions.

```bash
kubectl config view
```
View kubeconfig settings.

```bash
kubectl config get-contexts
```
List available contexts.

```bash
kubectl config use-context <context-name>
```
Switch between clusters.

---

# ğŸ”¹ Pod Management

### List Pods

```bash
kubectl get pods
```
List pods in current namespace.

```bash
kubectl get pods -A
```
List pods in all namespaces.

```bash
kubectl get pods --show-labels
```
Display pods with labels.

```bash
kubectl get pods -o wide
```
Show Node name and Pod IP.

```bash
kubectl get pods --watch
```
Watch pods in real-time.

---

### Describe Pod

```bash
kubectl describe pod <pod-name>
```
Detailed pod information including events.

---

### Execute into Pod

```bash
kubectl exec -it <pod-name> -- /bin/bash
```
Access container shell interactively.

If bash is not available:

```bash
kubectl exec -it <pod-name> -- /bin/sh
```

---

### View Logs

```bash
kubectl logs <pod-name>
```

```bash
kubectl logs -f <pod-name>
```
Stream logs in real-time.

```bash
kubectl logs <pod-name> -c <container-name>
```
Logs of specific container.

---

### Delete Pod

```bash
kubectl delete pod <pod-name>
```

Force delete:

```bash
kubectl delete pod <pod-name> --grace-period=0 --force
```

---

### Create Pod Quickly

```bash
kubectl run nginx --image=nginx
```

Generate YAML without creating:

```bash
kubectl run nginx --image=nginx --dry-run=client -o yaml
```

---

# ğŸ”¹ Node Management

```bash
kubectl get nodes
```

```bash
kubectl describe node <node-name>
```

```bash
kubectl cordon <node-name>
```
Mark node unschedulable.

```bash
kubectl drain <node-name> --ignore-daemonsets
```
Safely evict workloads.

```bash
kubectl uncordon <node-name>
```
Make node schedulable again.

---

# ğŸ”¹ Deployment Management

### Create / Apply

```bash
kubectl create -f app.yml
kubectl apply -f app.yml
```

### View Deployments

```bash
kubectl get deploy
kubectl get deploy -o wide
kubectl get deploy --watch
```

### Describe

```bash
kubectl describe deploy <deployment-name>
```

### Edit

```bash
kubectl edit deploy/<deployment-name>
```

### Delete

```bash
kubectl delete deploy <deployment-name>
```

---

# ğŸ”¹ ReplicaSet Management

```bash
kubectl get rs
```

```bash
kubectl describe rs <replicaset-name>
```

---

# ğŸ”¹ Service Management

```bash
kubectl get svc
```

```bash
kubectl describe svc <service-name>
```

```bash
kubectl create -f manifestfilename.yml
```
```bash
kubectl delete svc manifestfilename.yml
```

Expose deployment:

```bash
kubectl expose deploy <deployment-name> --type=NodePort --port=80
```

---

# ğŸ”¹ Rollout Management

```bash
kubectl rollout status deploy/<deployment-name>
```

```bash
kubectl rollout history deploy/<deployment-name>
```

```bash
kubectl rollout undo deploy/<deployment-name>
```

```bash
kubectl rollout pause deploy/<deployment-name>
kubectl rollout resume deploy/<deployment-name>
```

# ğŸ”¹ Jobs & CronJobs

```bash
kubectl get jobs
kubectl describe job <job-name>
```

```bash
kubectl get cronjob
kubectl describe cronjob <cronjob-name>
```

Delete job:

```bash
kubectl delete job <job-name>
```

---

# ğŸ”¹ Namespace Management

```bash
kubectl get ns
```

```bash
kubectl create ns <namespace-name>
```

```bash
kubectl delete ns <namespace-name>
```

Set default namespace:

```bash
kubectl config set-context --current --namespace=<namespace-name>
```

List pods in kube-system:

```bash
kubectl get pods -n kube-system
```
# ğŸ”¹ resourcequota
after creating respectivenamespace
kubectl get quota


---

# ğŸ”¹ ConfigMaps & Secrets & setting env

### ConfigMap

```bash
kubectl create deploy newdb --image=mariadb

pod is crashing due to not setting env varables

kubectl set env deploy newdb MYSQL_ROOT_PASSWORD=root1234 --will set poasswor and pod will run

fromenv -- passing env via file

vi vars
--
MYSQL_ROOT_PASSWORD=root1234
MYSQL_ROOT_USER=root
--
esc + wq!

kubectl create cm dbvar --from=vars

kubectl create deploy newdb1 --image=mariadb

kubectl set env deploy newdb1 --from-env-file=configmaps/dbvar  --it will pass the env via file

vi  var
--
ROOT_PASSWORD=root1234
ROOT_NAME=root
--
esc+wq!

kubectl create cm dbvar --from=vars

kubectl create deploy newdb2 --image=mariadb

kubectl set env deploy newdb2 --from-env-file=configmaps/dbvar  --prefix=MYSQL_ --it will pass the env via file

kubectl get cm --to list the configmaps

kubectl create configmap app-config --from-literal=key=value

kubectl get configmap

kubectl describe configmap app-config
```

### Secret

```bash

kubectl create secret generic app-secret --from-literal=password=1234

kubectl create secret generic app-secret --from-env-file=var

kubectl get secrets

kubectl get secrets app-secret -o yaml

example output

----
[root@kops ~]# kubectl get secret my-secret2 -o yaml
apiVersion: v1
data:
  ROOT_PASSWORD: cm9vdDEyMzQ=
  ROOT_USER: cm9vdA==
kind: Secret
metadata:
  creationTimestamp: "2026-02-28T21:43:49Z"
  name: my-secret2
  namespace: default
  resourceVersion: "34178"
  uid: a7359d50-013c-46c9-9821-ad2f54ecf989
type: Opaque
----
echo -n "cm9vdDEyMzQ=" | base64 --decode
output

root1234[root@kops ~]# 

kubectl describe secret app-secret

```

to delete the cluster in the KOPS
kops delete cluster --name clustername --yes


---

# ğŸ”¹ RBAC (Role Based Access Control)

Create Role:

```bash
kubectl create role pod-reader --verb=get,list --resource=pods
```

Create RoleBinding:

```bash
kubectl create rolebinding read-pods \
--role=pod-reader \
--user=user1
```

View roles:

```bash
kubectl get roles
kubectl get rolebindings
kubectl get sa
kubectl auth can-i list pods --namespace=dev --as=tarun
```

# ğŸ”¹ daemonset

kubectl get ds
kubectl get ds -o wide
kubectl delete ds daemonsetname
---

# ğŸ”¹ Scaling

```bash
kubectl scale deployment <deployment-name> --replicas=3
```

Autoscaling:

```bash
kubectl autoscale deployment <deployment-name> --min=2 --max=5 --cpu-percent=80
```
to check the auto scale
```bash
kubectl exec -it podname -- /bin/bash
apt update -y
apt install stress -y
stress --cpu 8 --io 4 --vm 2 --vm-bytes 128M --timeout 60s
```

---

# ğŸ”¹ API & Resource Discovery

```bash
kubectl api-versions
kubectl api-resources
kubectl explain pod
kubectl explain deployment.spec.template
```

---

# ğŸ”¹ Troubleshooting Commands

```bash
kubectl get events
```

Sort by time:

```bash
kubectl get events --sort-by=.metadata.creationTimestamp
```

Check resource usage (Metrics Server required):

```bash
kubectl top nodes
kubectl top pods
```

---

# ğŸ”¹ Useful Flags

| Flag | Description |
|------|------------|
| `-n <namespace>` | Specify namespace |
| `-A` | All namespaces |
| `-o wide` | Extended output |
| `-o yaml` | Output as YAML |
| `-o json` | Output as JSON |
| `--watch` | Real-time updates |
| `--show-labels` | Show labels |
| `--dry-run=client` | Test without creating resource |
| `-f <file>` | Specify manifest file |

---

## ğŸ“ Best Practices

- Prefer `kubectl apply` for declarative management.
- Use namespaces to isolate environments (dev, qa, prod).
- Always check events when troubleshooting.
- Avoid force deleting pods unless necessary.
- Use RBAC for production-grade access control.

---

## ğŸš€ Author

Maintained as a personal Kubernetes learning and DevOps reference guide.
